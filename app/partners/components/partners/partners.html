<div id="content">
    <div class="row">
        <big-breadcrumbs [items]="$ctrl.visual.titles" icon="book" class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
        </big-breadcrumbs>
    </div>
    <div class="well">
        <form-nav-buttons options="$ctrl.visual.navButtsOptions" class="btn-group"></form-nav-buttons>
        <hr>
        <orders-filter data-search-query="$ctrl.data.searchQuery" data-to-state="app.partners"></orders-filter>
        <lazy-loaded-list view="app/partners/components/partners/partials/list.html"
                          api-method="getPartners" items="$ctrl.data.partnersList"
                          nav-options="$ctrl.visual.navTableButts" search-query="$ctrl.data.searchQuery">
        </lazy-loaded-list>
        <te-scroll-top></te-scroll-top>
    </div>
    <div class="modal fade" id="createPartnerModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">Создать нового партнёра</h4>
                </div>
                <div class="modal-body smart-form">
                    <section>
                        <label class="label">ИНН</label>
                        <label class="input">
                            <input type="text" class="input-sm" name="data.inn" ng-model="$ctrl.newPartnerData.inn"
                              uib-typeahead="name.label for name in $ctrl.getDaDataSuggestions('party', $viewValue, 'data.inn')"
                              typeahead-on-select="$ctrl.fillBySuggestion($item, 'inn')"
                              typeahead-template-url="typeAhead.tmpl.html">
                        </label>
                    </section>
                    <section>
                        <label class="label">КПП</label>
                        <label class="input">
                            <input type="text" class="input-sm" ng-model="$ctrl.newPartnerData.kpp">
                        </label>
                    </section>
                    <section>
                        <label class="label">Оф. наименование</label>
                        <label class="input">
                            <input type="text" class="input-sm" ng-model="$ctrl.newPartnerData.legal_name">
                        </label>
                    </section>
                    <section>
                        <label class="label">Наименование</label>
                        <label class="input">
                            <input type="text" class="input-sm" ng-model="$ctrl.newPartnerData.name">
                        </label>
                    </section>
                    <section>
                        <label class="label">Телефон</label>
                        <label class="input">
                            <input type="text" class="input-sm" ng-model="$ctrl.newPartnerData.phone">
                        </label>
                    </section>
                    <section>
                        <label class="label">E-mail</label>
                        <label class="input">
                            <input type="text" class="input-sm" ng-model="$ctrl.newPartnerData.email">
                        </label>
                    </section>
                    <section>
                        <label class="label">Индекс:</label>
                        <label class="input">
                            <input type="text" ng-model="$ctrl.newAddress.postal_index"
                                   uib-typeahead="name.label for name in $ctrl.getDaDataSuggestions('address', $viewValue, 'data.postal_code')"
                                   typeahead-on-select="$ctrl.fillBySuggestion($item, 'legal_address')" class="input-sm"
                                   typeahead-template-url="typeAhead.tmpl.html" name="data.postal_code">
                        </label>
                    </section>
                    <section>
                        <label class="label">Регион:</label>
                        <label class="input">
                            <input type="text" ng-model="$ctrl.newAddress.region"
                                   uib-typeahead="name.label for name in $ctrl.getDaDataSuggestions('address', $viewValue, 'data.region_with_type')"
                                   typeahead-on-select="$ctrl.fillBySuggestion($item, 'legal_address')" class="input-sm"
                                   typeahead-template-url="typeAhead.tmpl.html" name="data.region_with_type">
                        </label>
                    </section>
                    <section>
                        <label class="label">Город:</label>
                        <label class="input">
                            <input type="text" ng-model="$ctrl.newAddress.city"
                                   uib-typeahead="name.label for name in $ctrl.getDaDataSuggestions('address', $viewValue, 'data.city')"
                                   typeahead-on-select="$ctrl.fillBySuggestion($item, 'legal_address')" class="input-sm"
                                   typeahead-template-url="typeAhead.tmpl.html" name="data.city">
                        </label>
                    </section>
                    <section>
                        <label class="label">Улица:</label>
                        <label class="input">
                            <input type="text" ng-model="$ctrl.newAddress.street"
                                   uib-typeahead="name.label for name in $ctrl.getDaDataSuggestions('address', $viewValue, 'data.street')"
                                   typeahead-on-select="$ctrl.fillBySuggestion($item, 'legal_address')" class="input-sm"
                                   typeahead-template-url="typeAhead.tmpl.html" name="data.street">
                        </label>
                    </section>
                    <section>
                        <label class="label">Дом:</label>
                        <label class="input">
                            <input type="text" ng-model="$ctrl.newAddress.house" name="data.house" class="input-sm">
                        </label>
                    </section>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.clearNewPartner()"
                            type="button">
                        Отмена
                    </button>
                    <button class="btn btn-primary" data-dismiss="modal" ng-click="$ctrl.addNewPartner()" type="button">
                        Сохранить
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>